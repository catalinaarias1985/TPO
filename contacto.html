<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto</title>
    <link rel="stylesheet" href="style/contacto.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://smtpjs.com/v3/smtp.js">
    </script>
    <script>
    function validateForm() {
        sendEmail();
        console.log("validateForm called ");
        let name = document.forms["form"]["name"].value;
        console.log(name);
        if(name == "") {
            alert("Please  enter a valid name");
            return false;
        }
        let email = document.forms["form"]["email"].value;
        console.log(email);
        if(!validateEmail(email)) {
            alert("Please enter a valid email");    
            return false;
        } 
        let message = document.forms["form"]["message"].value;
        console.log(message);
        return false;
    }

    function validateEmail(email) {
        var re = /\S+@\S+\.\S+/;
        return re.test(email);
        }

        function sendEmail() {
            Email.send({
            Host : "smtp.elasticemail.com",
            Username : "wilsonlex@gmail.com",
            Password : "7E8CC347F5DF178EECDE4A01BBAC32137AFC",
            To : 'ktaariasm@gmail.com',
            From : "wilsonlex@gmail.com",
            Subject : "Test email",
            Body : "<html><h2>Header</h2><strong>Bold text</strong><br></br><em>Italic</em></html>"
            }).then(
            message => alert(message)
            );
        }    
    </script>
</head>
<body>
    <header>
        <nav>
            <div class="nav-grid">
              <div class="inav-grid">
                <p>logo#</p>
              </div>
              <div class="inav-grid">
                  <a class="nav" href="index.html">Inicio</a>
              </div >
              <div class="inav-grid">
                  <a class="nav" href="menu.html">Menú</a>
              </div>
              <div class="inav-grid">
                  <a class="nav" href="quienes-somos.html">Quienes Somos</a>
              </div>
              <div class="inav-grid">
                  <a class="nav" href="contacto.html">Contacto</a>
              </div>
          
          </div>
          </nav>
    </header>
    <main>
    <section id="Secction">
        <div>
            <form id="form" action="https://formspree.io/f/mknejqgd" method="POST" class="form" onsubmit="return validateForm()">
                <h3 class="tag"><span>HABLEMOS</span></h3>
                <label for="name">Nombre Completo <span>*</span></label>
                <input name="name"  type="text" id="name" placeholder="Juan">
                <label for="email">Correo electrónico <span>*</span></label>
                <input name="email" type="email" id="email"  placeholder="juan@gmail.com">
                <label for="message">Mensaje</label>
                <textarea id="message" name="message" id="" cols="30" rows="10"></textarea>
                <div>
                <button type="submit" class="btn primary full">enviar mensaje</button>
                </div>
            </form>
            <a href="mailto:lahuerta.restobar.sanluis@gmail.com" id="mailto">mail</a>
        </div>
    </section>
    </main>
    <footer id="footer">
        <a href="https://instagram.com/lahuerta_bar?igshid=YmMyMTA2M2Y=" target="_blank"> <img class="igicon" src="images/instagram.png" alt="Instagram" /></a>
        <a href="https://api.whatsapp.com/send?phone=573196111218" target="_blank"> <img class="igicon" src="images/whatsapp.png" alt="WhatsApp" /></a>
        <p>Derechos Reservados @2022</p>
    </footer>
    <script>
     /*  const $form= document.querySelector('#form')
       const $buttonMailto= document.querySelector('#mailto')
       $form.addEventListener('submit',handleSubmit);
       function handleSubmit(event){
        event.preventDefault()
         const form =new FormData(this);
         console.log(form.get('name'));
         $buttonMailto.setAttribute('href','mailto:ariadna.des.garcia@gmail.com?subjet=${('name')}&body=')
         $buttonMailto.click()

       }*/
    </script>
       <!--Bootstrapp JavaScript Bundle with Popper -->
       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
</body>
</html>